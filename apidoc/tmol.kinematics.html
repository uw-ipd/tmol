

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tmol.kinematics &mdash; TMol 0.0.0-79-g1d9855a documentation</title>
  

  
  
  
  
    <link rel="canonical" href="http://tmol.uw.ipd.edu/apidoc/tmol.kinematics.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tmol.kinematics.builder" href="tmol.kinematics.builder.html" />
    <link rel="prev" title="tmol.database.scoring.ljlk" href="tmol.database.scoring.ljlk.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> TMol
          

          
          </a>

          
            
            
              <div class="version">
                0.0.0-79-g1d9855a
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datatypes.html">Datatypes</a></li>
</ul>
<p class="caption"><span class="caption-text">Packages</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tmol.system.html">tmol.system</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.score.html">tmol.score</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.database.html">tmol.database</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">tmol.kinematics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.builder.html">tmol.kinematics.builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.datatypes.html">tmol.kinematics.datatypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.metadata.html">tmol.kinematics.metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.operations.html">tmol.kinematics.operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.torch_op.html">tmol.kinematics.torch_op</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.cpu_operations.html">tmol.kinematics.cpu_operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.gpu_operations.html">tmol.kinematics.gpu_operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tmol.numeric.html">tmol.numeric</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.types.html">tmol.types</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.utility.html">tmol.utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.io.html">tmol.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.viewer.html">tmol.viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.support.html">tmol.support</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.extern.html">tmol.extern</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TMol</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>tmol.kinematics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apidoc/tmol.kinematics.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-tmol.kinematics">
<span id="tmol-kinematics"></span><h1>tmol.kinematics<a class="headerlink" href="#module-tmol.kinematics" title="Permalink to this headline">¶</a></h1>
<p>Kinematic operations over bonded atomic systems.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="tmol.kinematics.builder.html">tmol.kinematics.builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.kinematics.datatypes.html">tmol.kinematics.datatypes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.kinematics.metadata.html">tmol.kinematics.metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.kinematics.operations.html">tmol.kinematics.operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.kinematics.torch_op.html">tmol.kinematics.torch_op</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.kinematics.cpu_operations.html">tmol.kinematics.cpu_operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.kinematics.gpu_operations.html">tmol.kinematics.gpu_operations</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">__all__</span></code>: <a class="reference internal" href="tmol.kinematics.datatypes.html#tmol.kinematics.datatypes.KinDOF" title="tmol.kinematics.datatypes.KinDOF"><code class="xref py py-class docutils literal notranslate"><span class="pre">KinDOF</span></code></a>, <a class="reference internal" href="tmol.kinematics.datatypes.html#tmol.kinematics.datatypes.KinTree" title="tmol.kinematics.datatypes.KinTree"><code class="xref py py-class docutils literal notranslate"><span class="pre">KinTree</span></code></a>, <a class="reference internal" href="tmol.kinematics.datatypes.html#tmol.kinematics.datatypes.NodeType" title="tmol.kinematics.datatypes.NodeType"><code class="xref py py-class docutils literal notranslate"><span class="pre">NodeType</span></code></a>, <a class="reference internal" href="tmol.kinematics.operations.html#tmol.kinematics.operations.backwardKin" title="tmol.kinematics.operations.backwardKin"><code class="xref py py-func docutils literal notranslate"><span class="pre">backwardKin</span></code></a>, <a class="reference internal" href="tmol.kinematics.operations.html#tmol.kinematics.operations.forwardKin" title="tmol.kinematics.operations.forwardKin"><code class="xref py py-func docutils literal notranslate"><span class="pre">forwardKin</span></code></a>, <a class="reference internal" href="tmol.kinematics.operations.html#tmol.kinematics.operations.resolveDerivs" title="tmol.kinematics.operations.resolveDerivs"><code class="xref py py-func docutils literal notranslate"><span class="pre">resolveDerivs</span></code></a></p>
<dl class="class">
<dt id="tmol.kinematics.NodeType">
<em class="property">class </em><code class="descclassname">tmol.kinematics.</code><code class="descname">NodeType</code><a class="reference internal" href="../_modules/tmol/kinematics/datatypes.html#NodeType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.NodeType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.IntEnum" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></a></p>
<p>KinTree node types.</p>
</dd></dl>

<dl class="class">
<dt id="tmol.kinematics.KinTree">
<em class="property">class </em><code class="descclassname">tmol.kinematics.</code><code class="descname">KinTree</code><span class="sig-paren">(</span><em>id: Tensor(torch.int64)[...], doftype: Tensor(torch.int32)[...], parent: Tensor(torch.int64)[...], frame_x: Tensor(torch.int64)[...], frame_y: Tensor(torch.int64)[...], frame_z: Tensor(torch.int64)[...]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tmol/kinematics/datatypes.html#KinTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.KinTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tmol.types.tensor.html#tmol.types.tensor.TensorGroup" title="tmol.types.tensor.TensorGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">tmol.types.tensor.TensorGroup</span></code></a>, <a class="reference internal" href="tmol.types.attrs.html#tmol.types.attrs.ConvertAttrs" title="tmol.types.attrs.ConvertAttrs"><code class="xref py py-class docutils literal notranslate"><span class="pre">tmol.types.attrs.ConvertAttrs</span></code></a></p>
<p>Atom-level kinematic description.</p>
<p>A kinematic description of collection of atom locations, each atom location
corresponding to a node within a tree. The tree is <em>rooted</em> at a single
“root” node, representing the global reference frame. Every other node
corresponds to a derived orientation, which an atomic coordinate at the
center of the frame.</p>
<p>Each node is the tree is connected by one of two “node types”:</p>
<p>1) Jump nodes, representing an arbitrary rigid body transform between two
reference frames via six degrees of freedom, 3 translational and
3 rotational.</p>
<p>2) Bond nodes, representing the relationships between two atom reference
frames via three bond degrees of freedom, bond axis translation, bond axis
rotation about the parent-grandparent bond and change of bond axis with
respect to the bond. Bond nodes include an additional, redundent,
degree of free representing concerted rotation of all downstream bonds
about the parent-self bond.</p>
<p>The <a class="reference internal" href="#tmol.kinematics.KinTree" title="tmol.kinematics.KinTree"><code class="xref any py py-class docutils literal notranslate"><span class="pre">KinTree</span></code></a> data structure itself is frozen and can not be modified post
construction. The <a class="reference internal" href="tmol.kinematics.builder.html#tmol.kinematics.builder.KinematicBuilder" title="tmol.kinematics.builder.KinematicBuilder"><code class="xref any py py-class docutils literal notranslate"><span class="pre">KinematicBuilder</span></code></a> factory class is responsible for
construction of a <a class="reference internal" href="#tmol.kinematics.KinTree" title="tmol.kinematics.KinTree"><code class="xref any py py-class docutils literal notranslate"><span class="pre">KinTree</span></code></a> with valid internal structure for atomic
system.</p>
<dl class="docutils">
<dt>Indices::</dt>
<dd>id = index for kin-atom in the target coordinate system
parent = kin-atom index of parent for each kin-atom
frame_x = kin-atom index of self
frame_y = kin-atom index of parent
frame_z = kin-atom index of grandparent</dd>
</dl>
<dl class="classmethod">
<dt id="tmol.kinematics.KinTree.node">
<em class="property">classmethod </em><code class="descname">node</code><span class="sig-paren">(</span><em>id: int</em>, <em>doftype: tmol.kinematics.datatypes.NodeType</em>, <em>parent: int</em>, <em>frame_x: int</em>, <em>frame_y: int</em>, <em>frame_z: int</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tmol/kinematics/datatypes.html#KinTree.node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.KinTree.node" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a single node from element values.</p>
</dd></dl>

<dl class="classmethod">
<dt id="tmol.kinematics.KinTree.root_node">
<em class="property">classmethod </em><code class="descname">root_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tmol/kinematics/datatypes.html#KinTree.root_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.KinTree.root_node" title="Permalink to this definition">¶</a></dt>
<dd><p>The global/root kinematic node at KinTree[0].</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tmol.kinematics.KinDOF">
<em class="property">class </em><code class="descclassname">tmol.kinematics.</code><code class="descname">KinDOF</code><span class="sig-paren">(</span><em>raw: Tensor(torch.float64)[...,9]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tmol/kinematics/datatypes.html#KinDOF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.KinDOF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tmol.types.tensor.html#tmol.types.tensor.TensorGroup" title="tmol.types.tensor.TensorGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">tmol.types.tensor.TensorGroup</span></code></a>, <a class="reference internal" href="tmol.types.attrs.html#tmol.types.attrs.ConvertAttrs" title="tmol.types.attrs.ConvertAttrs"><code class="xref py py-class docutils literal notranslate"><span class="pre">tmol.types.attrs.ConvertAttrs</span></code></a></p>
<p>Internal coordinate data.</p>
<p>The KinDOF data structure holds two logical views: the “raw” view a
sparsely populated [n,9] tensor of DOF values and a set of named property
accessors providing access to specific entries within this array. This is
logically equivalent a C union datatype, the interpretation of an entry in
the DOF buffer depends on the type of the corresponding KinTree entry.</p>
</dd></dl>

<dl class="function">
<dt id="tmol.kinematics.backwardKin">
<code class="descclassname">tmol.kinematics.</code><code class="descname">backwardKin</code><span class="sig-paren">(</span><em>kintree: tmol.kinematics.datatypes.KinTree, coords: Tensor(torch.float64)[:,3]</em><span class="sig-paren">)</span> &#x2192; tmol.kinematics.operations.BackKinResult<a class="reference internal" href="../_modules/tmol/kinematics/operations.html#backwardKin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.backwardKin" title="Permalink to this definition">¶</a></dt>
<dd><p>xyzs -&gt; HTs, dofs</p>
<ul class="simple">
<li>“backward” kinematics</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="tmol.kinematics.forwardKin">
<code class="descclassname">tmol.kinematics.</code><code class="descname">forwardKin</code><span class="sig-paren">(</span><em>kintree: tmol.kinematics.datatypes.KinTree</em>, <em>dofs: tmol.kinematics.datatypes.KinDOF</em><span class="sig-paren">)</span> &#x2192; tmol.kinematics.operations.ForwardKinResult<a class="reference internal" href="../_modules/tmol/kinematics/operations.html#forwardKin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.forwardKin" title="Permalink to this definition">¶</a></dt>
<dd><p>dofs -&gt; HTs, xyzs</p>
<ul class="simple">
<li>“forward” kinematics</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="tmol.kinematics.resolveDerivs">
<code class="descclassname">tmol.kinematics.</code><code class="descname">resolveDerivs</code><span class="sig-paren">(</span><em>kintree: tmol.kinematics.datatypes.KinTree, dofs: tmol.kinematics.datatypes.KinDOF, HTs: Tensor(torch.float64)[:,4,4], dsc_dx: Tensor(torch.float64)[:,3]</em><span class="sig-paren">)</span> &#x2192; tmol.kinematics.datatypes.KinDOF<a class="reference internal" href="../_modules/tmol/kinematics/operations.html#resolveDerivs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.resolveDerivs" title="Permalink to this definition">¶</a></dt>
<dd><p>xyz derivs -&gt; dof derivs</p>
<ul class="simple">
<li>derivative mapping using Abe and Go approach</li>
</ul>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tmol.kinematics.builder.html" class="btn btn-neutral float-right" title="tmol.kinematics.builder" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tmol.database.scoring.ljlk.html" class="btn btn-neutral" title="tmol.database.scoring.ljlk" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, TMol Contributers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0.0-79-g1d9855a',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>