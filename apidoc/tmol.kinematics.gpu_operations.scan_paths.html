

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tmol.kinematics.gpu_operations.scan_paths &mdash; TMol 0.0.0-158-g747f7326 documentation</title>
  

  
  
  
  
    <link rel="canonical" href="http://tmol.uw.ipd.edu/apidoc/tmol.kinematics.gpu_operations.scan_paths.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tmol.kinematics.gpu_operations.scan_paths_jit" href="tmol.kinematics.gpu_operations.scan_paths_jit.html" />
    <link rel="prev" title="tmol.kinematics.gpu_operations.scan_jit" href="tmol.kinematics.gpu_operations.scan_jit.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> TMol
          

          
          </a>

          
            
            
              <div class="version">
                0.0.0-158-g747f7326
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datatypes.html">Datatypes</a></li>
</ul>
<p class="caption"><span class="caption-text">Packages</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tmol.system.html">tmol.system</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.score.html">tmol.score</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.database.html">tmol.database</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tmol.kinematics.html">tmol.kinematics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.builder.html">tmol.kinematics.builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.datatypes.html">tmol.kinematics.datatypes</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.metadata.html">tmol.kinematics.metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.operations.html">tmol.kinematics.operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.torch_op.html">tmol.kinematics.torch_op</a></li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.cpu_operations.html">tmol.kinematics.cpu_operations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="tmol.kinematics.gpu_operations.html">tmol.kinematics.gpu_operations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tmol.kinematics.gpu_operations.derivsum.html">tmol.kinematics.gpu_operations.derivsum</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmol.kinematics.gpu_operations.derivsum_jit.html">tmol.kinematics.gpu_operations.derivsum_jit</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmol.kinematics.gpu_operations.forward.html">tmol.kinematics.gpu_operations.forward</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmol.kinematics.gpu_operations.forward_jit.html">tmol.kinematics.gpu_operations.forward_jit</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmol.kinematics.gpu_operations.scan_jit.html">tmol.kinematics.gpu_operations.scan_jit</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">tmol.kinematics.gpu_operations.scan_paths</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tmol.kinematics.gpu_operations.scan_paths_jit.html">tmol.kinematics.gpu_operations.scan_paths_jit</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmol.kinematics.gpu_operations.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmol.kinematics.gpu_operations.html#reference">Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tmol.kinematics.html#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tmol.numeric.html">tmol.numeric</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.types.html">tmol.types</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.utility.html">tmol.utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.io.html">tmol.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.viewer.html">tmol.viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.support.html">tmol.support</a></li>
<li class="toctree-l1"><a class="reference internal" href="tmol.extern.html">tmol.extern</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TMol</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="tmol.kinematics.html">tmol.kinematics</a> &raquo;</li>
        
          <li><a href="tmol.kinematics.gpu_operations.html">tmol.kinematics.gpu_operations</a> &raquo;</li>
        
      <li>tmol.kinematics.gpu_operations.scan_paths</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apidoc/tmol.kinematics.gpu_operations.scan_paths.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-tmol.kinematics.gpu_operations.scan_paths">
<span id="tmol-kinematics-gpu-operations-scan-paths"></span><h1>tmol.kinematics.gpu_operations.scan_paths<a class="headerlink" href="#module-tmol.kinematics.gpu_operations.scan_paths" title="Permalink to this headline">¶</a></h1>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning" title="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PathPartitioning</span></code></a></td>
<td>Partitioning of a tree into linear subpaths.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning">
<em class="property">class </em><code class="descclassname">tmol.kinematics.gpu_operations.scan_paths.</code><code class="descname">PathPartitioning</code><span class="sig-paren">(</span><em>parent: NDArray(dtype('int64'))[:], subpath_child: NDArray(dtype('int64'))[:], n_nonpath_children: NDArray(dtype('int64'))[:], is_subpath_root: NDArray(dtype('bool'))[:], is_subpath_leaf: NDArray(dtype('bool'))[:], nonpath_children: NDArray(dtype('int64'))[:,:], subpath_length: NDArray(dtype('int64'))[:], subpath_depth_from_root: NDArray(dtype('int64'))[:], subpath_depth_from_leaf: NDArray(dtype('int64'))[:]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tmol/kinematics/gpu_operations/scan_paths.html#PathPartitioning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tmol.types.attrs.html#tmol.types.attrs.ValidateAttrs" title="tmol.types.attrs.ValidateAttrs"><code class="xref py py-class docutils literal notranslate"><span class="pre">tmol.types.attrs.ValidateAttrs</span></code></a></p>
<p>Partitioning of a tree into linear subpaths.</p>
<p>Source tree contains a single root node, at index 0, and any number nodes
at index (i) &gt; 0, each with a single parent with index (p_i) “higher” in the
tree (p_i &lt; i). The tree structure is fully defined by parent pointers, an
index array (parent) of len(tree_size) where parent[0] == [0] and parent[i]
== p_i.</p>
<p>The source tree implies a per-node child list of length &gt;= 0, defined by
all nodes for which the given node is a parent. Nodes with no children are
leaves.</p>
<p>Scan paths cuts the tree into linear paths, where each non-leaf node (i)
has a <em>single</em> child (c_i) “lower” in the tree (i &lt; c_i). The path
structure is fully defined by child pointers, an index array (subpath_child)
of subpath_child[i] == c_i (non-leaves) or subpath_child[i] = -1 (leaves).</p>
<p>The path partitioning implies “subpath roots”, the set of nodes which are
<em>not</em> the subpath child of their parent (subpath_child[parent[i]] != i).</p>
<p>Each path in the tree is labeled with a depth: a path with depth
i may depend on the values computed for atoms with depths 0..i-1.
All of the paths of the same depth can be processed in a single
kernel execution with segmented scan.</p>
<dl class="attribute">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.parent">
<code class="descname">parent</code><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.parent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.subpath_child">
<code class="descname">subpath_child</code><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.subpath_child" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.n_nonpath_children">
<code class="descname">n_nonpath_children</code><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.n_nonpath_children" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.is_subpath_root">
<code class="descname">is_subpath_root</code><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.is_subpath_root" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.is_subpath_leaf">
<code class="descname">is_subpath_leaf</code><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.is_subpath_leaf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.nonpath_children">
<code class="descname">nonpath_children</code><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.nonpath_children" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.subpath_length">
<code class="descname">subpath_length</code><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.subpath_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.subpath_depth_from_root">
<code class="descname">subpath_depth_from_root</code><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.subpath_depth_from_root" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.subpath_depth_from_leaf">
<code class="descname">subpath_depth_from_leaf</code><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.subpath_depth_from_leaf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.minimum_subpath_depth">
<em class="property">classmethod </em><code class="descname">minimum_subpath_depth</code><span class="sig-paren">(</span><em>parent: NDArray(dtype('int64'))[:]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tmol/kinematics/gpu_operations/scan_paths.html#PathPartitioning.minimum_subpath_depth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.minimum_subpath_depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate paths minimizing the maximum path depth.</p>
<p>Devide the tree into paths minimizes the number
of depths in the tree. For any node in the tree, one of its children
will be in the same path with it, and all other children will be
roots of their own subtrees. The minimum-depth division of paths
is computed by lableling the “branching factor” of each atom. The
branching factor of an atom is 0 if it has no children; if it does
have children, it is the largest of the branching factors of what
the atom designates as its on-path child and one-greater than the
branching factor of any of its other children. Each node then may
select the child with the largest branching factor as its on-path
child to minimize its branching factor. This division produces
a minimum depth tree of paths.</p>
</dd></dl>

<dl class="classmethod">
<dt id="tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.from_subpath_children">
<em class="property">classmethod </em><code class="descname">from_subpath_children</code><span class="sig-paren">(</span><em>parent: NDArray(dtype('int64'))[:], subpath_child: NDArray(dtype('int64'))[:]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/tmol/kinematics/gpu_operations/scan_paths.html#PathPartitioning.from_subpath_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tmol.kinematics.gpu_operations.scan_paths.PathPartitioning.from_subpath_children" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tmol.kinematics.gpu_operations.scan_paths_jit.html" class="btn btn-neutral float-right" title="tmol.kinematics.gpu_operations.scan_paths_jit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tmol.kinematics.gpu_operations.scan_jit.html" class="btn btn-neutral" title="tmol.kinematics.gpu_operations.scan_jit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, TMol Contributers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'0.0.0-158-g747f7326',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>