#!/bin/bash

set -x
set -e

echo --- Clean `docs`
# Clean docs/(build|apidoc)
git clean -xdf -- docs

echo --- Build html docs
# Add cwd to pythonpath to support apidoc/autodoc of tmol module
# will need to `pip install` if any built components are added
# in the future.
export PYTHONPATH=.
better-apidoc -M -e -t docs/_templates -o docs/apidoc tmol tmol/tests
sphinx-build -M html docs docs/build
